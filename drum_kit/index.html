<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="./style.css">
    </head>
    <body>
        <img src="./background.jpeg" class="background"/>
        <div class="keys">
            <div data-key="KeyA" class="key">A <span>clap</span></div>
            <div data-key="KeyS" class="key">S <span>hihat</span></div>
            <div data-key="KeyD" class="key">D <span>kick</span></div>
            <div data-key="KeyF" class="key">F <span>openhat</span></div>
            <div data-key="KeyG" class="key">G <span>boom</span></div>
            <div data-key="KeyH" class="key">H <span>ride</span></div>
            <div data-key="KeyJ" class="key">J <span>snare</span></div>
            <div data-key="KeyK" class="key">K <span>tom</span></div>
            <div data-key="KeyL" class="key">L <span>tink</span></div>
        </div>
        <audio data-key="KeyA" src="./sounds/clap.wav"></audio>
        <audio data-key="KeyS" src="./sounds/hihat.wav"></audio>
        <audio data-key="KeyD" src="./sounds/kick.wav"></audio>
        <audio data-key="KeyF" src="./sounds/openhat.wav"></audio>
        <audio data-key="KeyG" src="./sounds/boom.wav"></audio>
        <audio data-key="KeyH" src="./sounds/ride.wav"></audio>
        <audio data-key="KeyJ" src="./sounds/snare.wav"></audio>
        <audio data-key="KeyK" src="./sounds/tom.wav"></audio>
        <audio data-key="KeyL" src="./sounds/tink.wav"></audio>

        <script>
            let playSound = (e) => {
                const audio = document.querySelector(`audio[data-key="${e.code}"]`);
                const key = document.querySelector(`.key[data-key="${e.code}"]`);
                if (!audio)
                return;
            audio.currentTime = 0;
            audio.play();
            key.classList.add('playing');
        }
        
        function removeTransition(e) {
            if (e.propertyName !== 'transform')
            return;
                this.classList.remove('playing');
            }
            
            const keys = document.querySelectorAll('.key');
            keys.forEach(key => key.addEventListener('transitionend', removeTransition));
            
            window.addEventListener('keydown', playSound); 
        
            </script>

    </body>
</html>